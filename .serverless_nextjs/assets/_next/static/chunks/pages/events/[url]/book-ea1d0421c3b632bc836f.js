(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[776],{28885:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});n(67294);var r=n(85893),a=function(e){var t=e.label,n=e.className,a=void 0===n?"":n,i=e.marginBottom,o=void 0===i||i;return(0,r.jsx)("h6",{className:"font-semibold leading-7".concat(o?"mb-1":""," ").concat(a," "),children:t})}},54576:function(e,t,n){"use strict";var r=n(9008),a=n(45669),i=n(85893);t.Z=function(e){var t=e.siteTitle,n=e.description,o=e.url,s=e.image;return(0,i.jsxs)(r.default,{children:[(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,i.jsx)("title",{children:t?"".concat(t," | ").concat(a.XI):a.XI}),(0,i.jsx)("meta",{name:"description",content:n||a.PB}),(0,i.jsx)("meta",{property:"og:type",content:"website"}),(0,i.jsx)("meta",{property:"og:title",content:t?"".concat(t," | ").concat(a.XI):a.XI}),(0,i.jsx)("meta",{property:"og:site_name",content:t}),(0,i.jsx)("meta",{property:"og:description",content:n||a.PB}),(0,i.jsx)("meta",{property:"og:url",content:o||a.nX}),(0,i.jsx)("meta",{property:"og:image",content:s||a.ni}),(0,i.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,i.jsx)("meta",{property:"twitter:creator",content:a.jQ}),(0,i.jsx)("meta",{property:"twitter:title",content:t?"".concat(t," | ").concat(a.XI):a.XI}),(0,i.jsx)("meta",{property:"twitter:description",content:n||a.PB}),(0,i.jsx)("meta",{property:"twitter:url",content:o||a.jQ}),(0,i.jsx)("meta",{property:"twitter:image",content:s||a.ni})]})}},49190:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});n(67294);var r=n(74592),a=n(85893);r.Am.configure({autoClose:3e3,draggable:!0,hideProgressBar:!0});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Toast message",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n={default:"bg-white",warning:"bg-orange-500",danger:"bg-red-600",success:"bg-green-500"};return(0,r.Am)((function(){return(0,a.jsx)("div",{className:"h-full flex items-center",children:(0,a.jsx)("span",{className:"".concat("default"===t?"text-black":"text-white"," font-medium"),children:e})})}),{className:"".concat(n[t]," mb-1 last:mb-0"),bodyClassName:"m-0"})}},27779:function(e,t,n){"use strict";var r=n(86869);t.Z=function(){var e=(0,r.C)((function(e){var t;return{authToken:null===(t=e.userReducer.user)||void 0===t?void 0:t.accessToken}})).authToken;return{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e)}}}},3995:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return T},default:function(){return P}});var r=n(15861),a=n(87757),i=n.n(a),o=n(67294),s=n(30381),c=n.n(s),l=n(45669),u=n(88615),d=n(4942),m=n(19501),p=n(42283),h=n(28834),f=n(49190),x=n(28885),v=n(53031),g=n(27779),b=n(11163),j=n(85893);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=m.Ry().shape({customers:m.IX().of(m.Ry({name:m.Z_().min(2,"Should be at least 2 characters long").max(32,"Should be less then 32 characters").required("Required"),email:m.Z_().matches(u.HN,"Invalid email format").required("Required"),contactNo:m.Z_().matches(u.eG,"Invalid number").required("Required")})).min(1)}),k=function(e){var t=e._id,n=(0,g.Z)(),a=(0,b.useRouter)(),s=(0,o.useState)(),c=s[0],u=s[1],d=(0,p.cI)({resolver:(0,h.X)(E),defaultValues:{customers:[{name:"",email:"",contactNo:""}]}}),m=d.handleSubmit,y=d.control,k=d.watch,w=d.formState.errors,C=k("customers"),O=(0,p.Dq)({control:y,name:"customers"}),S=m(function(){var e=(0,r.Z)(i().mark((function e(r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(void 0),e.prev=1,e.next=4,l.ZG.post("/tickets/events/".concat(t,"/buy"),{customers:C},n);case 4:(0,f.X)("Successfully ticket booked!","success"),a.push("/events/".concat(a.query.url)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),406===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)?u("Not enough ticket available!"):u("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}());return(0,j.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[O.fields.map((function(e,t){var n,r,a,i,o,s,c,l,u,d,m,h,f,g,b;return(0,j.jsxs)("div",{className:"space-y-3",children:[(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsxs)("p",{className:"text-gray-800 font-semibold",children:["Person ",t+1," "]}),(0,j.jsx)("button",{className:"text-red-500 font-semibold",onClick:function(){return O.remove(t)},children:"Remove"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(x.T,{label:"Name"}),(0,j.jsx)(p.Qr,{control:y,name:"customers.".concat(t,".name"),defaultValue:e.name,render:function(e){var t,n,r=e.field;return(0,j.jsx)(v.Z,N({error:!(null===(t=w.customers)||void 0===t||null===(n=t[0])||void 0===n||!n.name),fullWidth:!0,placeholder:"Enter your email"},r))}}),(null===w||void 0===w||null===(n=w.customers)||void 0===n||null===(r=n[t])||void 0===r?void 0:r.name)&&(0,j.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===w||void 0===w||null===(a=w.customers)||void 0===a||null===(i=a[t])||void 0===i||null===(o=i.name)||void 0===o?void 0:o.message})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(x.T,{label:"Contact No"}),(0,j.jsx)(p.Qr,{control:y,name:"customers.".concat(t,".contactNo"),defaultValue:e.contactNo,render:function(e){var t,n,r=e.field;return(0,j.jsx)(v.Z,N({error:!(null===(t=w.customers)||void 0===t||null===(n=t[0])||void 0===n||!n.contactNo),fullWidth:!0,placeholder:"Enter your email"},r))}}),(null===w||void 0===w||null===(s=w.customers)||void 0===s||null===(c=s[t])||void 0===c?void 0:c.contactNo)&&(0,j.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===w||void 0===w||null===(l=w.customers)||void 0===l||null===(u=l[t])||void 0===u||null===(d=u.contactNo)||void 0===d?void 0:d.message})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(x.T,{label:"Email"}),(0,j.jsx)(p.Qr,{control:y,name:"customers.".concat(t,".email"),defaultValue:e.email,render:function(e){var t,n,r=e.field;return(0,j.jsx)(v.Z,N({error:!(null===(t=w.customers)||void 0===t||null===(n=t[0])||void 0===n||!n.email),fullWidth:!0,type:"email",placeholder:"Enter your email"},r))}}),(null===w||void 0===w||null===(m=w.customers)||void 0===m||null===(h=m[t])||void 0===h?void 0:h.email)&&(0,j.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===w||void 0===w||null===(f=w.customers)||void 0===f||null===(g=f[t])||void 0===g||null===(b=g.email)||void 0===b?void 0:b.message})]})]},e.id)})),c&&(0,j.jsx)("p",{className:"text-red-500 text-sm font-semibold",children:c}),(0,j.jsx)("button",{type:"button",className:"w-full py-4 rounded-md bg-blue-500 text-white text-lg font-medium",onClick:function(){O.append({name:"",email:"",contactNo:""})},children:"ADD TICKET"}),(0,j.jsx)("button",{type:"submit",className:"w-full py-4 rounded-md bg-primary text-white text-lg font-medium",children:"CONFIRM"})]})},w=n(54576),C=n(25675),O=n(30607),S=n(86869),T=!0,P=function(e){var t=e.event,n=(0,b.useRouter)(),r=(0,o.useState)(!1),a=(r[0],r[1],(0,S.C)((function(e){return{isLogin:!!e.userReducer.user}})).isLogin);return n.isFallback?(0,j.jsx)("div",{children:"Loading..."}):(a||n.replace("/signin"),(0,j.jsxs)("div",{className:"container mx-auto my-12 px-2",children:[(0,j.jsx)(w.Z,{siteTitle:"Booking - "+t.name,image:"".concat(l.a9).concat(t.coverImage)}),(0,j.jsxs)("div",{className:"grid grid-cols-5 gap-20",children:[(0,j.jsxs)("div",{className:"col-span-5 md:col-span-3",children:[(0,j.jsx)("div",{className:"relative rounded-md shadow-md overflow-hidden border",children:(0,j.jsx)(C.default,{loader:(0,O.B)(l.a9),src:"".concat(t.coverImage),alt:"".concat(t.name),layout:"responsive",className:"object-cover",width:900,height:400,priority:!0})}),(0,j.jsx)("div",{className:"py-8 border-b border-gray-300 last:border-0 md:flex md:justify-between",children:(0,j.jsxs)("div",{children:[(0,j.jsx)("h6",{className:"font-medium text-xl sm:text-3xl mb-2",children:t.name}),(0,j.jsx)("p",{className:"text-gray-600 text-lg font-light",children:"venue"===t.hostingType?t.venueAddress:t.hostingType})]})}),(0,j.jsx)("div",{className:"md:hidden my-4"}),(0,j.jsxs)("div",{className:"py-6 border-b border-gray-300 last:border-0",children:[(0,j.jsx)("h6",{className:"font-medium text-xl mb-6",children:"Event Details"}),(0,j.jsxs)("div",{className:"grid grid-cols-2 mb-8",children:[(0,j.jsxs)("div",{className:"mb-2",children:[(0,j.jsx)("h6",{className:"text-primary",children:"Starts In"}),(0,j.jsx)("p",{className:"font-light",children:(0,u.DK)(t.startingTime)}),(0,j.jsx)("p",{className:"font-light",children:c()(t.startingDate).format("Do MMMM, YYYY")})]}),(0,j.jsxs)("div",{className:"mb-2",children:[(0,j.jsx)("h6",{className:"text-primary",children:"Ends In"}),(0,j.jsx)("p",{className:"font-light",children:(0,u.DK)(t.endingTime)}),(0,j.jsx)("p",{className:"font-light",children:c()(t.endingDate).format("Do MMMM, YYYY")})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2",children:[(0,j.jsxs)("div",{className:"mb-2",children:[(0,j.jsx)("h6",{className:"text-primary",children:"Ticket Price"}),"paid"===t.ticketType&&t.price?"".concat(t.price," Taka"):(0,j.jsx)("span",{className:"text-green-500 font-semibold",children:"FREE"})]}),(0,j.jsxs)("div",{className:"mb-2",children:[(0,j.jsx)("h6",{className:"text-primary",children:"Guest Limit"}),(0,j.jsxs)("p",{className:"font-light",children:[(0,j.jsx)("span",{children:t.quantity}),t.members>0&&(0,j.jsxs)("span",{className:"text-sm font-medium italic text-gray-500 ml-3",children:[t.quantity-Number(t.members)," left!!"]})]})]})]})]}),(0,j.jsxs)("div",{className:"py-6 border-b border-gray-300 last:border-0",children:[(0,j.jsx)("h6",{className:"font-medium text-xl mb-6",children:"Description"}),(0,j.jsx)("p",{className:"font-light",children:t.description})]}),(0,j.jsxs)("div",{className:"py-6 border-b border-gray-300 last:border-0",children:[(0,j.jsx)("h6",{className:"font-medium text-xl mb-6",children:"Terms And Conditions"}),(0,j.jsx)("p",{className:"font-light",children:t.termsConditions.length>0?t.termsConditions:"N/A"})]})]}),(0,j.jsx)("div",{className:"hidden md:block col-span-2",children:(0,j.jsx)(k,{_id:t._id})})]})]}))}},88615:function(e,t,n){"use strict";n.d(t,{TJ:function(){return c},hg:function(){return l},dF:function(){return u},qr:function(){return d},HN:function(){return m},eG:function(){return p},ak:function(){return h},M8:function(){return f},zI:function(){return v},Y2:function(){return b},DK:function(){return j},aS:function(){return y},gQ:function(){return N},kB:function(){return E},T9:function(){return k},KU:function(){return w},OH:function(){return C},PN:function(){return O},Jk:function(){return S},Zt:function(){return T}});var r=n(15861),a=n(87757),i=n.n(a),o=n(46489),s=n.n(o),c=/(?=.*[a-z])/,l=/(?=.*[A-Z])/,u=/(?=.*[0-9])/,d=/(?=.*[!@#$%^&*,.;:'"_=+?`~<>()|/-])/,m=/^([a-z\d._-]+)@([a-z\d_-]+)\.([a-z]{2,8})(\.[a-z]{2,8})?$/i,p=/^(\+88)?01[1-9][0-9]{8}$/,h=/^([0-2][0-9]|(3)[0-1])(-)(((0)[0-9])|((1)[0-2]))(-)\d{4}$/,f=function(e){window.localStorage.setItem("access-token",e)},x=function(){var e=null;return window.localStorage.getItem("access-token")?e=window.localStorage.getItem("access-token"):window.localStorage.removeItem("access-token"),e},v=function(e){window.localStorage.setItem("refresh-token",e)},g=function(e){try{return!(s()(e).exp>Date.now()/1e3)}catch(t){return!0}},b=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("WITH-AUTH"!==t){e.next=9;break}if(null===(n=x())||g(n)){e.next=6;break}return e.abrupt("return",{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}});case 6:return e.abrupt("return",{headers:{"Content-type":"application/json"}});case 7:e.next=10;break;case 9:return e.abrupt("return",{headers:{"Content-type":"application/json"}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e,n=+t.substr(0,2),r=n%12||12,a=n<12?" AM":" PM";return t=(r=r<10?"0"+r:r)+t.substr(2,3)+a},y=function(e,t){return e.length<=t?e:"".concat(e.substring(0,t).trim(),"...")},N={appearance:"Appearance",attraction:"Attraction",classOrTrainingOrWorkshop:"Class / Training / Workshop",conference:"Conference",festivalOrFair:"Festival / Fair",concertOrPerformance:"Concert / Performance",meetingOrNetworkingEvent:"Meeting / Networking Event",partyOrSocialGathering:"Party / Social Gathering",tournament:"Tournament",seminarOrTail:"Seminar / Talk",rally:"Rally",gameOrCompetition:"Game / Competition"},E={personal:[{value:"weddingAndEngagement",name:"Wedding And Engagement"},{value:"travelShoot",name:"Travel Shoot"},{value:"kidsParty",name:"Kids Party"},{value:"partyGathering",name:"Party Gathering"},{value:"pet",name:"Pet"},{value:"graduation",name:"Graduation"},{value:"couplePhotoshoot",name:"Couple Photoshoot"},{value:"otherLifeEvent",name:"Other Life Event"},{value:"portraits",name:"Portraits"},{value:"babyPhotoshoot",name:"Baby Photoshoot"},{value:"others",name:"Others"}],business:[{value:"workshop",name:"Workshop"},{value:"seminar",name:"Seminar"},{value:"concert",name:"Concert"},{value:"reunion",name:"Reunion"},{value:"party",name:"Party"},{value:"conferences",name:"Conferences"},{value:"awardsAndCompetitions",name:"Awards and competitions"},{value:"festivals",name:"Festivals"},{value:"tradeShowsAndExpos",name:"Trade shows and expos"},{value:"others",name:"Others"}]},k=function(e){var t="";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];(r||"number"===typeof r)&&(0===t.length?t+="".concat(n,"=").concat(r):t+="&".concat(n,"=").concat(r))}return t},w=function(e){return{__html:e}},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.toFixed(t).replace(/\d(?=(\d{3})+\.)/g,"$&,")},O=function(e,t){var n=["pending","reserved","paid","completed"];return-1!==n.indexOf(e)&&n.indexOf(t)<=n.indexOf(e)},S=function(e){return Object.keys(e).filter((function(t){return!0===e[t]})).map((function(e){return(e.charAt(0).toUpperCase()+e.substr(1)).slice(0,3)}))},T={venue:"Convention Hall","event-management":"Event Management",photographer:"Photographer",caterings:"Caterings",flowers:"Flowers",music:"Music","invitation-card":"Invitation Card",lightening:"Lightening",videographer:"Videographer",honeymoon:"Honeymoon"}},29622:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/events/[url]/book",function(){return n(3995)}])},9008:function(e,t,n){e.exports=n(70639)},12666:function(e,t,n){"use strict";n.d(t,{ZP:function(){return x}});var r=n(63366),a=n(51721),i=(n(45697),n(67294)),o=n(73935),s=!1,c=n(220),l="unmounted",u="exited",d="entering",m="entered",p="exiting",h=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(a=u,r.appearStatus=d):a=m:a=t.unmountOnExit||t.mountOnEnter?l:u,r.state={status:a},r.nextCallback=null,r}(0,a.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==m&&(t=d):n!==d&&n!==m||(t=p)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===d?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[o.findDOMNode(this),r],i=a[0],c=a[1],l=this.getTimeouts(),u=r?l.appear:l.enter;!e&&!n||s?this.safeSetState({status:m},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,c),this.safeSetState({status:d},(function(){t.props.onEntering(i,c),t.onTransitionEnd(u,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(i,c)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o.findDOMNode(this);t&&!s?(this.props.onExit(r),this.safeSetState({status:p},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=a[0],s=a[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(c.Z.Provider,{value:null},"function"===typeof n?n(e,a):i.cloneElement(i.Children.only(n),a))},t}(i.Component);function f(){}h.contextType=c.Z,h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},h.UNMOUNTED=l,h.EXITED=u,h.ENTERING=d,h.ENTERED=m,h.EXITING=p;var x=h}},function(e){e.O(0,[885,468,752,592,774,888,179],(function(){return t=29622,e(e.s=t);var t}));var t=e.O();_N_E=t}]);