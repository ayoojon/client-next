(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{28885:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});n(67294);var r=n(85893),a=function(e){var t=e.label,n=e.className,a=void 0===n?"":n,o=e.marginBottom,i=void 0===o||o;return(0,r.jsx)("h6",{className:"font-semibold leading-7".concat(i?"mb-1":""," ").concat(a," "),children:t})}},54576:function(e,t,n){"use strict";var r=n(9008),a=n(45669),o=n(85893);t.Z=function(e){var t=e.siteTitle,n=e.description,i=e.url,s=e.image;return(0,o.jsxs)(r.default,{children:[(0,o.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,o.jsx)("title",{children:t?"".concat(t," | ").concat(a.XI):a.XI}),(0,o.jsx)("meta",{name:"description",content:n||a.PB}),(0,o.jsx)("meta",{property:"og:type",content:"website"}),(0,o.jsx)("meta",{property:"og:title",content:t?"".concat(t," | ").concat(a.XI):a.XI}),(0,o.jsx)("meta",{property:"og:site_name",content:t}),(0,o.jsx)("meta",{property:"og:description",content:n||a.PB}),(0,o.jsx)("meta",{property:"og:url",content:i||a.nX}),(0,o.jsx)("meta",{property:"og:image",content:s||a.ni}),(0,o.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,o.jsx)("meta",{property:"twitter:creator",content:a.jQ}),(0,o.jsx)("meta",{property:"twitter:title",content:t?"".concat(t," | ").concat(a.XI):a.XI}),(0,o.jsx)("meta",{property:"twitter:description",content:n||a.PB}),(0,o.jsx)("meta",{property:"twitter:url",content:i||a.jQ}),(0,o.jsx)("meta",{property:"twitter:image",content:s||a.ni})]})}},40431:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r=n(86869),a=n(11163),o=n(4942),i=n(15861),s=n(87757),c=n.n(s),u=n(67294),l=n(19501),d=n(28834),m=n(88615),p=n(42283),f=n(45669),h=n(28885),v=n(53031),x=n(72642),A=n(58974),g=n(85893);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=l.Ry().shape({name:l.Z_().min(2,"Should be at least 2 characters long").max(32,"Should be less then 32 characters").required("Required"),email:l.Z_().matches(m.HN,"Invalid email format").required("Required"),contactNo:l.Z_().matches(m.eG,"Invalid number").required("Required"),address:l.Z_().min(2,"Should be at least 2 characters long").max(350,"Should be less then 350 characters").required("Required")}),w=function(e){var t=e.user,n=(0,r.T)(),a=(0,p.cI)({resolver:(0,d.X)(y),defaultValues:{name:t?t.name:"",email:t?t.email:"",contactNo:t?t.contactNo:"",address:t?t.address:""}}),o=a.handleSubmit,s=a.control,l=a.formState.errors,j=a.formState,w=j.isDirty,O=j.isSubmitting,N=(0,u.useState)(),P=N[0],S=N[1],k=function(){var e=(0,i.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(void 0),e.prev=1,e.next=4,(0,m.Y2)("WITH-AUTH");case 4:return r=e.sent,e.next=7,f.ZG.put("accounts/basic-info",t,r);case 7:e.sent,n((0,A.Nq)(t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),S("Somthing went worng");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,g.jsxs)("form",{onSubmit:o(k),children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(h.T,{label:"Email Address"}),(0,g.jsx)(p.Qr,{control:s,name:"email",render:function(e){var t=e.field;return(0,g.jsx)(v.Z,b(b({error:!!l.email,fullWidth:!0,type:"email",placeholder:"Enter your email"},t),{},{readOnly:!0}))}}),(null===l||void 0===l?void 0:l.email)&&(0,g.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===l||void 0===l?void 0:l.email.message})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.T,{label:"User Name"}),(0,g.jsx)(p.Qr,{control:s,name:"name",render:function(e){var t=e.field;return(0,g.jsx)(v.Z,b({error:!!l.name,fullWidth:!0,type:"text",placeholder:"Enter your name"},t))}}),(null===l||void 0===l?void 0:l.name)&&(0,g.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===l||void 0===l?void 0:l.name.message})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.T,{label:"Address"}),(0,g.jsx)(p.Qr,{control:s,name:"address",render:function(e){var t=e.field;return(0,g.jsx)(v.Z,b({error:!!l.address,fullWidth:!0,type:"text",placeholder:"Enter your address"},t))}}),(null===l||void 0===l?void 0:l.address)&&(0,g.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===l||void 0===l?void 0:l.address.message})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.T,{label:"Contact Number"}),(0,g.jsx)(p.Qr,{control:s,name:"contactNo",render:function(e){var t=e.field;return(0,g.jsx)(v.Z,b({error:!!l.contactNo,fullWidth:!0,type:"text",placeholder:"Enter your contact number"},t))}}),(null===l||void 0===l?void 0:l.contactNo)&&(0,g.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===l||void 0===l?void 0:l.contactNo.message})]}),P&&(0,g.jsx)("p",{className:"text-red-500 text-sm font-semibold",children:P})]}),w&&(0,g.jsx)("div",{className:"flex justify-end mt-6",children:(0,g.jsx)(x.Z,{variant:"contained",color:"primary",type:"submit",disabled:O,children:"Update"})})]})},O=n(59062),N=n(9669),P=n.n(N),S=n(30607),k=n(25675),E={src:"/_next/static/image/src/components/shared/resources/user-avatar.bd0c0295dd152039dcb4fc27366ba29a.jpg",height:32,width:32,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAfEAABAwMFAAAAAAAAAAAAAAAAARESBBMxAgMUFWH/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/EABURAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIRAxEAPwC+u1R9Emq5T8u5JprOOGbHoAHifX//2Q=="};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){var e=(0,u.useState)(null),t=e[0],n=e[1],a=(0,u.useState)(""),o=a[0],s=a[1],l=(0,u.useState)(!1),d=l[0],p=l[1],h=(0,u.useState)(0),v=h[0],j=h[1],b=(0,u.useState)(),y=b[0],w=b[1],N=(0,r.T)(),C=(0,r.C)((function(e){return{user:e.userReducer.user}})).user,I=["image/png","image/gif","image/jpeg","image/jpg"],_=function(){var e=(0,i.Z)(c().mark((function e(){var r,a,o,i,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t||!C){e.next=19;break}return p(!0),r=t.name.split(".").pop(),a="users/".concat(C._id,"/avatar-").concat(Date.now(),".").concat(r),e.next=7,P().post(f.g6+"upload/single-secure",{fileName:a});case 7:return o=e.sent,e.next=10,P().put(o.data.presigned_url,t,{headers:{"Content-Type":t.type},onUploadProgress:function(e){return j(Math.round(e.loaded/e.total*100))}});case 10:return i={avatar:a},e.next=13,(0,m.Y2)("WITH-AUTH");case 13:return s=e.sent,e.next=16,f.ZG.put("accounts/avatar",i,T({},s));case 16:N((0,A.n1)(i)),e.next=20;break;case 19:w("Please, select a image.");case 20:w(void 0),p(!1),j(0),n(null),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),w(e.t0.message||"Something went wrong!");case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,g.jsxs)("div",{id:"avatar-upload-container",className:"h-32 w-32 sm:h-40 sm:w-40 overflow-hidden relative rounded-md mb-2",children:[(0,g.jsx)("input",{accept:"image/*",className:"hidden",id:"browse-file-button",type:"file",onChange:function(e){if(e.target.files){var t=e.target.files[0];if(t)return I.includes(t.type)?t.size/1024/1024>1?(n(null),void w("Image should be less then ".concat(1," MB"))):(n(t),s(URL.createObjectURL(t)),void w("")):(n(null),void w("This file format is not supported"))}}}),(0,g.jsxs)("label",{htmlFor:"browse-file-button",children:[(0,g.jsx)(k.default,{loader:(0,S.B)(f.a9),className:"inline-block w-full h-full object-cover",src:o||(C&&C.avatar?C.avatar:E),alt:"location",width:"320",height:"320"}),(0,g.jsx)("div",{id:"avatar-upload",className:"invisible absolute inset-0 flex items-center justify-center cursor-pointer border-2 border-gray-900 rounded-md",style:{background:"#ffffff9e"},children:(0,g.jsx)("span",{className:"font-semibold sm:text-xl",children:"Upload photo"})})]})]}),y&&(0,g.jsx)("span",{className:"mb-1 text-red-600",children:y}),t&&(0,g.jsx)("div",{className:"relative",children:d?(0,g.jsx)(O.Z,{variant:"determinate",value:v}):(0,g.jsx)(x.Z,{variant:"contained",color:"primary",component:"span",onClick:_,children:"Upload"})})]})},_=n(54576),z=function(){var e=(0,a.useRouter)(),t=(0,r.C)((function(e){return{isLogin:!!e.userReducer.user}})).isLogin,n=(0,r.C)((function(e){return{user:e.userReducer.user}})).user;return e.isFallback?(0,g.jsx)("div",{children:"Loading..."}):(t||e.replace("/signin"),(0,g.jsxs)("div",{className:"max-w-3xl mx-auto my-12 px-6",children:[(0,g.jsx)(_.Z,{siteTitle:"User Profile"}),(0,g.jsx)("div",{className:"flex justify-center items-center mb-5",children:(0,g.jsx)(I,{})}),(0,g.jsxs)("div",{className:"",children:[(0,g.jsx)("h1",{className:"border-b border-gray-400 px-5 text-2xl font-semibold",children:"Basic information"}),(0,g.jsx)("div",{className:"px-5 mt-6 sm:w-1/2",children:(0,g.jsx)(w,{user:n})})]})]}))}},88615:function(e,t,n){"use strict";n.d(t,{TJ:function(){return c},hg:function(){return u},dF:function(){return l},qr:function(){return d},HN:function(){return m},eG:function(){return p},ak:function(){return f},M8:function(){return h},zI:function(){return x},Y2:function(){return g},DK:function(){return j},aS:function(){return b},gQ:function(){return y},kB:function(){return w},T9:function(){return O},KU:function(){return N},OH:function(){return P},PN:function(){return S},Jk:function(){return k},Zt:function(){return E}});var r=n(15861),a=n(87757),o=n.n(a),i=n(46489),s=n.n(i),c=/(?=.*[a-z])/,u=/(?=.*[A-Z])/,l=/(?=.*[0-9])/,d=/(?=.*[!@#$%^&*,.;:'"_=+?`~<>()|/-])/,m=/^([a-z\d._-]+)@([a-z\d_-]+)\.([a-z]{2,8})(\.[a-z]{2,8})?$/i,p=/^(\+88)?01[1-9][0-9]{8}$/,f=/^([0-2][0-9]|(3)[0-1])(-)(((0)[0-9])|((1)[0-2]))(-)\d{4}$/,h=function(e){window.localStorage.setItem("access-token",e)},v=function(){var e=null;return window.localStorage.getItem("access-token")?e=window.localStorage.getItem("access-token"):window.localStorage.removeItem("access-token"),e},x=function(e){window.localStorage.setItem("refresh-token",e)},A=function(e){try{return!(s()(e).exp>Date.now()/1e3)}catch(t){return!0}},g=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("WITH-AUTH"!==t){e.next=9;break}if(null===(n=v())||A(n)){e.next=6;break}return e.abrupt("return",{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}});case 6:return e.abrupt("return",{headers:{"Content-type":"application/json"}});case 7:e.next=10;break;case 9:return e.abrupt("return",{headers:{"Content-type":"application/json"}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e,n=+t.substr(0,2),r=n%12||12,a=n<12?" AM":" PM";return t=(r=r<10?"0"+r:r)+t.substr(2,3)+a},b=function(e,t){return e.length<=t?e:"".concat(e.substring(0,t).trim(),"...")},y={appearance:"Appearance",attraction:"Attraction",classOrTrainingOrWorkshop:"Class / Training / Workshop",conference:"Conference",festivalOrFair:"Festival / Fair",concertOrPerformance:"Concert / Performance",meetingOrNetworkingEvent:"Meeting / Networking Event",partyOrSocialGathering:"Party / Social Gathering",tournament:"Tournament",seminarOrTail:"Seminar / Talk",rally:"Rally",gameOrCompetition:"Game / Competition"},w={personal:[{value:"weddingAndEngagement",name:"Wedding And Engagement"},{value:"travelShoot",name:"Travel Shoot"},{value:"kidsParty",name:"Kids Party"},{value:"partyGathering",name:"Party Gathering"},{value:"pet",name:"Pet"},{value:"graduation",name:"Graduation"},{value:"couplePhotoshoot",name:"Couple Photoshoot"},{value:"otherLifeEvent",name:"Other Life Event"},{value:"portraits",name:"Portraits"},{value:"babyPhotoshoot",name:"Baby Photoshoot"},{value:"others",name:"Others"}],business:[{value:"workshop",name:"Workshop"},{value:"seminar",name:"Seminar"},{value:"concert",name:"Concert"},{value:"reunion",name:"Reunion"},{value:"party",name:"Party"},{value:"conferences",name:"Conferences"},{value:"awardsAndCompetitions",name:"Awards and competitions"},{value:"festivals",name:"Festivals"},{value:"tradeShowsAndExpos",name:"Trade shows and expos"},{value:"others",name:"Others"}]},O=function(e){var t="";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];(r||"number"===typeof r)&&(0===t.length?t+="".concat(n,"=").concat(r):t+="&".concat(n,"=").concat(r))}return t},N=function(e){return{__html:e}},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.toFixed(t).replace(/\d(?=(\d{3})+\.)/g,"$&,")},S=function(e,t){var n=["pending","reserved","paid","completed"];return-1!==n.indexOf(e)&&n.indexOf(t)<=n.indexOf(e)},k=function(e){return Object.keys(e).filter((function(t){return!0===e[t]})).map((function(e){return(e.charAt(0).toUpperCase()+e.substr(1)).slice(0,3)}))},E={venue:"Convention Hall","event-management":"Event Management",photographer:"Photographer",caterings:"Caterings",flowers:"Flowers",music:"Music","invitation-card":"Invitation Card",lightening:"Lightening",videographer:"Videographer",honeymoon:"Honeymoon"}},12960:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return n(40431)}])}},function(e){e.O(0,[468,752,603,774,888,179],(function(){return t=12960,e(e.s=t);var t}));var t=e.O();_N_E=t}]);