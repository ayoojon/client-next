(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{59062:function(e,r,t){"use strict";t.d(r,{Z:function(){return S}});var n=t(1048),i=t(32793),s=t(67294),a=(t(45697),t(86010)),o=t(77463),c=t(70917),l=t(98216),d=t(16122),u=t(29602),m=t(21420);function h(e){return(0,m.Z)("MuiCircularProgress",e)}(0,t(11271).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var x=t(85893);const f=["className","color","disableShrink","size","style","thickness","value","variant"];let p,v,b,j,g=e=>e;const y=44,N=(0,c.F4)(p||(p=g`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),w=(0,c.F4)(v||(v=g`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),k=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,l.Z)(t.color)}`]]}})((({ownerState:e,theme:r})=>(0,i.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:r.transitions.create("transform")},"inherit"!==e.color&&{color:r.palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,c.iv)(b||(b=g`
      animation: ${0} 1.4s linear infinite;
    `),N))),D=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),O=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${(0,l.Z)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((({ownerState:e,theme:r})=>(0,i.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,c.iv)(j||(j=g`
      animation: ${0} 1.4s ease-in-out infinite;
    `),w)));var S=s.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:s,color:c="primary",disableShrink:u=!1,size:m=40,style:p,thickness:v=3.6,value:b=0,variant:j="indeterminate"}=t,g=(0,n.Z)(t,f),N=(0,i.Z)({},t,{color:c,disableShrink:u,size:m,thickness:v,value:b,variant:j}),w=(e=>{const{classes:r,variant:t,color:n,disableShrink:i}=e,s={root:["root",t,`color${(0,l.Z)(n)}`],svg:["svg"],circle:["circle",`circle${(0,l.Z)(t)}`,i&&"circleDisableShrink"]};return(0,o.Z)(s,h,r)})(N),S={},P={},M={};if("determinate"===j){const e=2*Math.PI*((y-v)/2);S.strokeDasharray=e.toFixed(3),M["aria-valuenow"]=Math.round(b),S.strokeDashoffset=`${((100-b)/100*e).toFixed(3)}px`,P.transform="rotate(-90deg)"}return(0,x.jsx)(k,(0,i.Z)({className:(0,a.Z)(w.root,s),style:(0,i.Z)({width:m,height:m},P,p),ownerState:N,ref:r,role:"progressbar"},M,g,{children:(0,x.jsx)(D,{className:w.svg,ownerState:N,viewBox:"22 22 44 44",children:(0,x.jsx)(O,{className:w.circle,style:S,ownerState:N,cx:y,cy:y,r:(y-v)/2,fill:"none",strokeWidth:v})})}))}))},3460:function(e,r,t){"use strict";t.d(r,{Z:function(){return j}});var n=t(1048),i=t(32793),s=t(67294),a=(t(45697),t(86010)),o=t(77463),c=t(15704),l=t(74423),d=t(29602),u=t(98216),m=t(21420);function h(e){return(0,m.Z)("MuiFormHelperText",e)}var x=(0,t(11271).Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),f=t(16122),p=t(85893);const v=["children","className","component","disabled","error","filled","focused","margin","required","variant"],b=(0,d.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.size&&r[`size${(0,u.Z)(t.size)}`],t.contained&&r.contained,t.filled&&r.filled]}})((({theme:e,ownerState:r})=>(0,i.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${x.disabled}`]:{color:e.palette.text.disabled},[`&.${x.error}`]:{color:e.palette.error.main}},"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})));var j=s.forwardRef((function(e,r){const t=(0,f.Z)({props:e,name:"MuiFormHelperText"}),{children:s,className:d,component:m="p"}=t,x=(0,n.Z)(t,v),j=(0,l.Z)(),g=(0,c.Z)({props:t,muiFormControl:j,states:["variant","size","disabled","error","filled","focused","required"]}),y=(0,i.Z)({},t,{component:m,contained:"filled"===g.variant||"outlined"===g.variant,variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),N=(e=>{const{classes:r,contained:t,size:n,disabled:i,error:s,filled:a,focused:c,required:l}=e,d={root:["root",i&&"disabled",s&&"error",n&&`size${(0,u.Z)(n)}`,t&&"contained",c&&"focused",a&&"filled",l&&"required"]};return(0,o.Z)(d,h,r)})(y);return(0,p.jsx)(b,(0,i.Z)({as:m,ownerState:y,className:(0,a.Z)(N.root,d),ref:r},x,{children:" "===s?(0,p.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):s}))}))},73327:function(e,r,t){"use strict";function n(e){return e}t.d(r,{Z:function(){return n}})},5775:function(e,r,t){"use strict";t.d(r,{x:function(){return d}});var n=t(4942),i=t(45987),s=t(71508),a=(t(67294),t(85893)),o=["children","value","index"];function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var d=function(e){var r=e.children,t=e.value,n=e.index,c=(0,i.Z)(e,o);return(0,a.jsx)("div",l(l({role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n)},c),{},{children:t===n&&(0,a.jsx)(s.Z,{p:3,children:(0,a.jsx)("div",{children:r})})}))}},25988:function(e,r,t){"use strict";var n=t(13297),i=t(73327),s=t(40821),a=t(59062),o=t(85893),c=(0,n.Z)((function(e){return(0,i.Z)({backdrop:{zIndex:99,color:"#fff"}})}));r.Z=function(e){var r=e.open,t=c();return(0,o.jsx)(s.Z,{className:t.backdrop,open:r,children:(0,o.jsx)(a.Z,{color:"inherit"})})}},2702:function(e,r,t){"use strict";t.d(r,{C:function(){return c},q:function(){return o}});var n=t(67294),i=t(85893),s={},a=(0,n.createContext)(s),o=function(e){var r=e.children,t=e.queries,s=(0,n.useState)({}),o=s[0],c=s[1];return(0,n.useEffect)((function(){var e={},r=Object.keys(t),n=!1,i=function(){var t=r.reduce((function(r,t){return r[t]=!(!e[t]||!e[t].matches),r}),{});c(t)};if(window&&window.matchMedia){var s={};r.forEach((function(r){"string"===typeof t[r]?(e[r]=window.matchMedia(t[r]),s[r]=e[r].matches):s[r]=!1})),c(s),n=!0,r.forEach((function(r){"string"===typeof t[r]&&e[r].addListener(i)}))}return function(){n&&r.forEach((function(r){"string"===typeof t[r]&&e[r].removeListener(i)}))}}),[t]),(0,i.jsx)(a.Provider,{value:o,children:r})};function c(){var e=(0,n.useContext)(a);if(e===s)throw new Error("useBreakpointFromContext must be used within BreakpointProvider");return e}},28885:function(e,r,t){"use strict";t.d(r,{T:function(){return i}});t(67294);var n=t(85893),i=function(e){var r=e.label,t=e.className,i=void 0===t?"":t,s=e.marginBottom,a=void 0===s||s;return(0,n.jsx)("h6",{className:"font-semibold leading-7".concat(a?"mb-1":""," ").concat(i," "),children:r})}},38108:function(e,r,t){"use strict";t.d(r,{QI:function(){return a},To:function(){return o},nG:function(){return c},Az:function(){return l},I8:function(){return d}});t(67294);var n=t(6867),i=t(21512),s=t(85893),a=function(){return(0,s.jsx)(n.Z,{color:"primary","aria-label":"nevPrev element",component:"div",style:{position:"absolute",top:"13px",left:"22px"},children:(0,s.jsx)(i.Z,{name:"keyboard-arrow-left",className:"h-6"})})},o=function(){return(0,s.jsx)(n.Z,{color:"primary","aria-label":"nevNext element",component:"div",style:{position:"absolute",top:"13px",right:"22px"},children:(0,s.jsx)(i.Z,{name:"keyboard-arrow-right",className:"h-6"})})},c=function(e){var r=e.text,t=void 0===r?(0,s.jsx)("span",{children:"\u2755 Some useful info here"}):r;return(0,s.jsx)("div",{style:{padding:"10px 21px",borderTop:"1px solid #dce0e0",color:"#484848"},children:t})},l={xs:"(min-width: 360px) and (max-width: 639.98px)",sm:"(min-width: 640px) and (max-width: 767.98px)",md:"(min-width: 768px) and (max-width: 1023.98px)",lg:"(min-width: 1024px) and (max-width: 1279.98px)",xl:"(min-width: 1280px)"},d=function(e){var r=30;if(0!==Object.keys(e).length){var t=e;t.xs&&(r=40),(t.sm||t.md||t.lg||t.xl)&&(r=57)}return r}},49190:function(e,r,t){"use strict";t.d(r,{X:function(){return s}});t(67294);var n=t(74592),i=t(85893);n.Am.configure({autoClose:3e3,draggable:!0,hideProgressBar:!0});var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Toast message",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",t={default:"bg-white",warning:"bg-orange-500",danger:"bg-red-600",success:"bg-green-500"};return(0,n.Am)((function(){return(0,i.jsx)("div",{className:"h-full flex items-center",children:(0,i.jsx)("span",{className:"".concat("default"===r?"text-black":"text-white"," font-medium"),children:e})})}),{className:"".concat(t[r]," mb-1 last:mb-0"),bodyClassName:"m-0"})}},27779:function(e,r,t){"use strict";var n=t(86869);r.Z=function(){var e=(0,n.C)((function(e){var r;return{authToken:null===(r=e.userReducer.user)||void 0===r?void 0:r.accessToken}})).authToken;return{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e)}}}},46980:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return ne}});var n=t(15861),i=t(87757),s=t.n(i),a=t(67294),o=t(88615),c=t(76141),l=(t(6063),t(30381)),d=t.n(l),u=t(25675),m=t(38108),h=t(2702),x=t(53031),f=t(3460),p=t(72642),v=t(4942),b=t(49190),j=t(45669),g=t(88767),y=t(30607),N=t(11163),w=t(27779),k=t(85893);function D(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?D(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var S=function(){var e=(0,n.Z)(s().mark((function e(r,t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,j.ZG.post("bookings",O({},r),t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),P=function(e){var r,t=e.serviceInfo,i=e.spaceInfo,a=e.bookingDate,c=e.pricingInfo,l=e.bookingFor,d=e.typeOfEventName,m=e.additionalRequirements,h=e.setShowDetails,x=(0,N.useRouter)(),f=(0,w.Z)(),v=(0,g.useMutation)((function(e){return S(e,f)}),{onSuccess:function(){(0,b.X)("Booking created","success"),x.push("/user/bookings")},onError:function(){(0,b.X)("Booking conflict occur","danger")}}),D=function(){var e=(0,n.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={service:t._id,pricing:{date:a.format("DD-MM-YYYY"),type:"location",price:c.price.amount,startTime:c.startTime,endTime:c.endTime,location:{locationId:i._id,type:i.type,title:i.title,capacity:i.capacity,size:i.size,photos:i.photos,session:{sessionId:c._id,startTime:c.startTime,endTime:c.endTime,price:c.price}}},bookingFor:l,typeOfEvent:d,additionalRequirements:m,type:"normal"},v.mutateAsync(r);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"container px-4 lg:px-0 mx-auto",children:[(0,k.jsx)("h6",{className:"font-bold text-xl mb-2",children:"Booking Details"}),(0,k.jsxs)("div",{className:"lg:flex",children:[(0,k.jsxs)("div",{className:"lg:flex-1 lg:mr-10",children:[(0,k.jsx)("div",{className:"py-2 border-b border-gray-300 last:border-0",children:(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Booking Date"}),(0,k.jsxs)("div",{className:"flex flex-wrap -mx-2 mt-2",children:[(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center py-1 px-4 bg-primary text-white mx-2 mb-2",children:[(0,k.jsx)("small",{className:"font-semibold leading-none",children:a.format("MMM")}),(0,k.jsx)("p",{className:"font-semibold",children:a.format("D")})]}),(0,k.jsxs)("div",{className:"mx-2 mb-2",children:[(0,k.jsx)("p",{children:a.format("Do MMMM, YYYY")}),(0,k.jsxs)("p",{children:[(0,o.DK)(c.startTime)," - ",(0,o.DK)(c.endTime)]})]}),(0,k.jsx)("h6",{className:"mx-2 mb-2 font-bold text-primary cursor-pointer",onClick:function(){return h(!1)},children:"Change"})]})]})}),(0,k.jsxs)("div",{className:"py-2",children:[(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Venue Name"}),(0,k.jsx)("p",{children:t.name})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Address"}),(0,k.jsx)("p",{children:t.address})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Space Name"}),(0,k.jsxs)("div",{className:"flex",children:[(0,k.jsx)("p",{className:"mr-4",children:i.title}),(0,k.jsx)("h6",{className:"font-bold text-primary cursor-pointer",onClick:function(){return h(!1)},children:"Change"})]})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Description"}),i.description?(0,k.jsx)("div",{dangerouslySetInnerHTML:(r=i.description,{__html:r})}):"N/A"]})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Space Images"}),(0,k.jsx)("div",{className:"flex flex-wrap -mx-2 mt-2",children:i.photos.map((function(e,r){return(0,k.jsx)("div",{className:"h-32 w-48 mx-2 mb-4 overflow-hidden rounded-md",children:(0,k.jsx)(u.default,{className:"inline-block w-full h-full object-cover",loader:(0,y.B)(j.a9),height:"100%",width:"100%",layout:"responsive",src:e,alt:"s3FileUrl views"})},r)}))})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Additional Requirements"}),(0,k.jsx)("p",{children:m.length?m:"None"})]})]}),(0,k.jsxs)("div",{className:"lg:w-xs my-5",children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-primary",children:"Pricing"}),(0,k.jsxs)("div",{className:"flex justify-between my-2 font-medium text-primary",children:[(0,k.jsx)("h6",{children:"Total"}),(0,k.jsxs)("p",{children:[c.price.amount," BDT"]})]}),(0,k.jsx)("div",{className:"mt-8 mb-6",children:(0,k.jsx)(p.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:D,children:(0,k.jsx)("span",{className:"font-sans font-semibold",children:"Request For Booking"})})})]})]})]})})},M=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Y2)("WITH-AUTH");case 2:return t=e.sent,e.next=5,j.ZG.get("services/".concat(r,"/blockdays"),t);case 5:return n=e.sent,e.abrupt("return",n.data.data);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Z=function(e){var r=e.service,t=(0,h.C)(),n=(0,N.useRouter)(),i=n.query,s=i.date,l=i.locationId,v=i.pricingId,b=(i.url,(0,a.useState)(!1)),w=b[0],D=b[1],O=(0,a.useState)(),S=O[0],Z=O[1],T=(0,a.useState)(),Y=T[0],C=T[1],I=(0,a.useState)(),_=I[0],R=I[1],B=(0,a.useState)(),q=B[0],F=B[1],A=(0,a.useState)(null),E=A[0],G=A[1],z=(0,a.useState)(!1),W=z[0],H=z[1],$=(0,a.useState)(!1)[0],L=((0,a.useState)([d()()])[0],(0,a.useState)("")),Q=L[0],X=L[1],K=(0,a.useState)(""),U=K[0],J=K[1],V=(0,a.useState)([]),ee=V[0],re=V[1],te=(0,g.useQuery)(["service-block-days",r._id],(function(){return M(r._id)}),{refetchOnWindowFocus:!1,enabled:!!r._id}).data;(0,a.useEffect)((function(){G(s&&s.toString().match(o.ak)?d()(s,"DD-MM-YYYY"):null);var e=r.pricing.location.filter((function(e){return e._id===l}));if(1===e.length){R(e[0]);var t=e[0].sessions.filter((function(e){return e._id===v}));1===t.length&&F(t[0])}if(te){var n=[];te.map((function(e){var r=d()(e.date).format("DD-MM-YYYY");return n.push(r),r})),re([].concat(n))}}),[s,l,v,r.pricing.location,te]);return(0,k.jsx)(k.Fragment,{children:w&&S&&Y&&_&&E&&q&&!$&&""===Q?(0,k.jsx)(P,{serviceInfo:{_id:r._id,name:r.name,address:r.address,type:r.type},spaceInfo:{_id:_._id,title:_.title,description:_.description,photos:_.photos,capacity:_.capacity,size:_.size,type:_.type},bookingDate:E,pricingInfo:q,bookingFor:S,typeOfEventName:Y,additionalRequirements:U,setShowDetails:D}):(0,k.jsxs)("div",{className:"max-w-4xl px-4 lg:px-0 mx-auto mb-32",children:[(0,k.jsxs)("div",{className:"mb-6 flex flex-col items-center",children:[(0,k.jsx)("h6",{className:"font-bold text-xl mb-3",children:"I am booking the venue for"}),(0,k.jsxs)("div",{className:"flex flex-wrap justify-center -mx-2",children:[(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat("personal"===S?"bg-primary text-white":""),onClick:function(){return Z("personal")},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:"Personal"})},0),(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat("business"===S?"bg-primary text-white":""),onClick:function(){return Z("business")},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:"Business"})},1)]})]}),S&&(0,k.jsxs)("div",{className:"mb-6 flex flex-col items-center",children:[(0,k.jsx)("h6",{className:"font-bold text-xl mb-3",children:"Type Of Event "}),(0,k.jsx)("div",{className:"flex flex-wrap justify-center -mx-2",children:"personal"===S?o.kB.personal.map((function(e,r){return(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat(Y===e.value?"bg-primary text-white":""),onClick:function(){return C(e.value)},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:e.name})},r)})):o.kB.business.map((function(e,r){return(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat(Y===e.value?"bg-primary text-white":""),onClick:function(){return C(e.value)},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:e.name})},r)}))})]}),S&&Y&&(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-center mb-3",children:"Select The Space You Want To Book"}),(0,k.jsx)("div",{className:"flex flex-wrap justify-center -mx-2 mb-6",children:r.pricing.location.map((function(e,r){return(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat(_&&e._id===_._id?"bg-primary text-white":""),onClick:function(){R(e),F(void 0)},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:e.title})},r)}))}),_&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"h-56 w-full overflow-hidden rounded-md mb-6",children:(0,k.jsx)(u.default,{loader:(0,y.B)(j.a9),height:500,width:500,layout:"responsive",className:"inline-block w-full h-full object-cover",src:_.photos[0],alt:"space cover"})}),(0,k.jsxs)("div",{className:"",children:[(0,k.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,k.jsx)("h6",{className:"font-semibold text-xl pb-2",children:_.title}),(0,k.jsx)("div",{className:"",children:(0,k.jsxs)("div",{children:[(0,k.jsxs)("span",{className:"font-bold text-primary text-lg",children:[_.sessions[0].price.amount,_.sessions[0].price.currency]})," ",(0,k.jsx)("span",{className:"font-medium text-sm text-customGray-550",children:"/ Day"})]})})]}),(0,k.jsxs)("div",{className:"",children:[(0,k.jsx)("h6",{className:"font-medium mb-2",children:"About"}),(0,k.jsx)("p",{children:_.description})]})]})]})]}),S&&Y&&_&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-center mb-3",children:"Select Your Time"}),(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsx)("h6",{className:"font-medium mb-2",children:"Date"}),(0,k.jsx)(c.SingleDatePicker,{id:"single_booking_date",date:E,onDateChange:function(e){G(e),F(void 0)},focused:W,onFocusChange:function(e){var r=e.focused;return H(r)},orientation:"horizontal",placeholder:"Date",showDefaultInputIcon:!0,small:!1,hideKeyboardShortcutsPanel:!1,daySize:(0,m.I8)(t),numberOfMonths:1,isDayBlocked:function(e){return!!ee.includes(e.format("DD-MM-YYYY"))||(0,o.Jk)(r.weekDays).includes(e.format("ddd"))},navPrev:(0,k.jsx)(m.QI,{}),navNext:(0,k.jsx)(m.To,{}),renderCalendarInfo:function(){return(0,k.jsx)(m.nG,{})},readOnly:!0,displayFormat:"DD-MM-YYYY"})]})]}),(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Time"}),(0,k.jsx)("div",{className:"flex flex-wrap -mx-2",children:_.sessions.map((function(e,r){return(0,k.jsxs)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat(q&&q._id===e._id?"bg-primary text-white":""),onClick:function(){F(e)},children:[(0,k.jsxs)("small",{children:[(0,o.DK)(e.startTime)," - ",(0,o.DK)(e.endTime)]}),(0,k.jsxs)("h6",{className:"font-medium",children:[e.price.amount," ",e.price.currency]})]},r)}))})]})]}),S&&Y&&_&&(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-center mb-3",children:"Write down here if you have any additional requirements"}),(0,k.jsxs)("div",{children:[(0,k.jsx)(x.Z,{name:"additionalRequirements",id:"additionalRequirements",value:U,onChange:function(e){var r=e.target.value;r.length>500?X("Should be less then 500 characters"):X(""),J(r)},onBlur:function(e){e.target.value.length>500?X("Should be less then 500 characters"):X("")},fullWidth:!0,multiline:!0,maxRows:6,rows:6,color:"primary",type:"text",error:!!Q,placeholder:"Requirements ..."}),Q?(0,k.jsx)(f.Z,{filled:!0,error:!0,children:Q}):void 0]})]}),S&&Y&&(0,k.jsx)("div",{className:"mt-20",children:(0,k.jsx)(p.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){!$&&E&&S&&Y&&_&&q&&""===Q&&(n.push("/services/".concat(r.url,"/booking?date=").concat(d()(E).format("DD-MM-yyyy"),"&locationId=").concat(_._id,"&pricingId=").concat(q._id)),D(!0))},disabled:$||!S||!Y||!_||!q||!E||""!==Q,children:(0,k.jsx)("span",{className:"font-sans font-semibold",children:"Next"})})})]})})};function T(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?T(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var C=function(){var e=(0,n.Z)(s().mark((function e(r,t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.ZG.post("bookings",Y({},r),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),I=function(e){var r,t=e.serviceInfo,i=e.packageInfo,a=e.bookingDate,o=e.bookingTime,c=e.bookingFor,l=e.typeOfEventName,d=e.additionalRequirements,m=e.setShowDetails,h=(0,N.useRouter)(),x=(0,w.Z)(),f=(0,g.useMutation)((function(e){return C(e,x)}),{onSuccess:function(){(0,b.X)("Booking created","success"),h.push("/user/bookings")},onError:function(){(0,b.X)("Booking conflict occur","danger")}}),v=function(){var e=(0,n.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={service:t._id,pricing:{date:a.format("DD-MM-YYYY"),startTime:o,type:"package",price:i.price.amount,package:{packageId:i._id,title:i.title,image:i.image,price:i.price}},bookingFor:c,typeOfEvent:l,additionalRequirements:d,type:"normal"},f.mutateAsync(r);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)("div",{className:"container px-4 lg:px-0 mx-auto",children:[(0,k.jsx)("h6",{className:"font-bold text-xl mb-2",children:"Booking Details"}),(0,k.jsxs)("div",{className:"lg:flex",children:[(0,k.jsxs)("div",{className:"lg:flex-1 lg:mr-10",children:[(0,k.jsxs)("div",{className:"py-2 border-b border-gray-300 last:border-0",children:[(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Booking Date"}),(0,k.jsxs)("div",{className:"flex flex-wrap -mx-2 mt-2",children:[(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center py-1 px-4 bg-primary text-white mx-2 mb-2",children:[(0,k.jsx)("small",{className:"font-semibold leading-none",children:a.format("MMM")}),(0,k.jsx)("p",{className:"font-semibold",children:a.format("D")})]}),(0,k.jsx)("div",{className:"mx-2 mb-2",children:(0,k.jsx)("p",{children:a.format("Do MMMM, YYYY")})}),(0,k.jsx)("h6",{className:"mx-2 mb-2 font-bold text-primary cursor-pointer",onClick:function(){return m(!1)},children:"Change"})]})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Package Name"}),(0,k.jsxs)("div",{className:"flex",children:[(0,k.jsx)("p",{className:"mr-4",children:i.title}),(0,k.jsx)("h6",{className:"font-bold text-primary cursor-pointer",onClick:function(){return m(!1)},children:"Change"})]})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Package Description"}),i.description?(0,k.jsx)("div",{dangerouslySetInnerHTML:(r=i.description,{__html:r})}):"N/A"]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Package Image"}),(0,k.jsx)("div",{className:"flex flex-wrap -mx-2 mt-2",children:(0,k.jsx)("div",{className:"h-32 w-48 mx-2 mb-4 overflow-hidden rounded-md",children:(0,k.jsx)(u.default,{loader:(0,y.B)(j.a9),className:"inline-block w-full h-full object-cover",src:i.image,height:1900,width:600,layout:"responsive",alt:"s3FileUrl views"})})})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Address"}),(0,k.jsx)("p",{children:t.address})]})]}),(0,k.jsx)("div",{className:"py-2 border-b border-gray-300 sm:border-0",children:(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Additional Requirements"}),(0,k.jsx)("p",{children:d.length?d:"None"})]})})]}),(0,k.jsxs)("div",{className:"lg:w-xs my-5",children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-primary",children:"Pricing"}),(0,k.jsxs)("div",{className:"flex justify-between my-2 font-medium text-primary",children:[(0,k.jsx)("h6",{children:"Total"}),(0,k.jsxs)("p",{children:[i.price.amount," BDT"]})]}),(0,k.jsx)("div",{className:"mt-8 mb-6",children:(0,k.jsx)(p.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:v,children:(0,k.jsx)("span",{className:"font-sans font-semibold",children:"Request For Booking"})})})]})]})]})},_=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Y2)("WITH-AUTH");case 2:return t=e.sent,e.next=5,j.ZG.get("services/".concat(r,"/blockdays"),t);case 5:return n=e.sent,e.abrupt("return",n.data.data);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function R(e){var r=e.service,t=(0,h.C)(),n=(0,N.useRouter)(),i=n.query,s=i.date,l=i.packageId,f=(i.url,(0,a.useState)(!1)),v=f[0],b=f[1],w=(0,a.useState)(),D=w[0],O=w[1],S=(0,a.useState)(),P=S[0],M=S[1],Z=(0,a.useState)(),T=Z[0],Y=Z[1],C=(0,a.useState)(),R=C[0],B=C[1],q=(0,a.useState)(null),F=q[0],A=q[1],E=(0,a.useState)(null),G=E[0],z=E[1],W=(0,a.useState)(!1),H=W[0],$=W[1],L=(0,a.useState)(!1)[0],Q=(0,a.useState)([]),X=Q[0],K=Q[1],U=(0,g.useQuery)(["service-block-days",r._id],(function(){return _(r._id)}),{refetchOnWindowFocus:!1,enabled:!!r._id}).data;(0,a.useEffect)((function(){A(s&&s.toString().match(o.ak)?d()(s,"DD-MM-YYYY"):null);var e=r.pricing.package.filter((function(e){return e._id===l}));if(1===e.length&&(Y(e[0]),B(e[0])),U){var t=[];U.map((function(e){var r=d()(e.date).format("DD-MM-YYYY");return t.push(r),r})),K([].concat(t))}}),[s,l,r,U]);return(0,k.jsx)(k.Fragment,{children:v&&D&&P&&T&&F&&G&&!L?(0,k.jsx)(I,{serviceInfo:{_id:r._id,name:r.name,address:r.address,type:r.type},packageInfo:T,bookingDate:F,bookingTime:G,bookingFor:D,typeOfEventName:P,additionalRequirements:"",setShowDetails:b}):(0,k.jsxs)("div",{className:"max-w-4xl px-4 lg:px-0 mx-auto mb-32",children:[(0,k.jsxs)("div",{className:"mb-6 flex flex-col items-center",children:[(0,k.jsx)("h6",{className:"font-bold text-xl mb-3",children:"I am booking the package for"}),(0,k.jsxs)("div",{className:"flex flex-wrap justify-center -mx-2",children:[(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat("personal"===D?"bg-primary text-white":""),onClick:function(){return O("personal")},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:"Personal"})},0),(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat("business"===D?"bg-primary text-white":""),onClick:function(){return O("business")},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:"Business"})},1)]})]}),D&&(0,k.jsxs)("div",{className:"mb-6 flex flex-col items-center",children:[(0,k.jsx)("h6",{className:"font-bold text-xl mb-3",children:"Type Of Event "}),(0,k.jsx)("div",{className:"flex flex-wrap justify-center -mx-2",children:"personal"===D?o.kB.personal.map((function(e,r){return(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat(P===e.value?"bg-primary text-white":""),onClick:function(){return M(e.value)},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:e.name})},r)})):o.kB.business.map((function(e,r){return(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat(P===e.value?"bg-primary text-white":""),onClick:function(){return M(e.value)},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:e.name})},r)}))})]}),D&&P&&(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-center mb-3",children:"Select The Package You Want To Book"}),(0,k.jsx)("div",{className:"flex flex-wrap justify-center -mx-2 mb-6",children:r.pricing.package.map((function(e,r){return(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat(T&&e._id===T._id?"bg-primary text-white":""),onClick:function(){Y(e),B(void 0)},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:e.title})},r)}))}),T&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"h-56 w-full overflow-hidden rounded-md mb-6",children:(0,k.jsx)(u.default,{loader:(0,y.B)(j.a9),className:"inline-block object-cover",src:T.image,alt:"space cover",height:"100px",width:"100px",layout:"responsive"})}),(0,k.jsxs)("div",{className:"",children:[(0,k.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,k.jsx)("h6",{className:"font-semibold text-xl pb-2",children:T.title}),(0,k.jsx)("div",{className:"",children:(0,k.jsxs)("div",{children:[(0,k.jsxs)("span",{className:"font-bold text-primary text-lg",children:[T.price.amount," BDT"]})," "]})})]}),(0,k.jsxs)("div",{className:"",children:[(0,k.jsx)("h6",{className:"font-medium mb-2",children:"About"}),(0,k.jsx)("div",{dangerouslySetInnerHTML:function(e){return{__html:e}}(T.description)})]})]})]})]}),D&&P&&T&&(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-center mb-3",children:"Select Your Time"}),(0,k.jsxs)("div",{className:"flex flex-wrap gap-x-6",children:[(0,k.jsxs)("div",{className:"md:flex-1",children:[(0,k.jsx)("h6",{className:"font-medium mb-2",children:"Date"}),(0,k.jsx)(c.SingleDatePicker,{id:"single_booking_date",date:F,onDateChange:function(e){A(e),B(void 0),console.log(R)},focused:H,onFocusChange:function(e){var r=e.focused;return $(r)},orientation:"horizontal",placeholder:"Date",showDefaultInputIcon:!0,small:!1,hideKeyboardShortcutsPanel:!0,daySize:(0,m.I8)(t),numberOfMonths:1,isDayBlocked:function(e){return!!X.includes(e.format("DD-MM-YYYY"))||(0,o.Jk)(r.weekDays).includes(e.format("ddd"))},navPrev:(0,k.jsx)(m.QI,{}),navNext:(0,k.jsx)(m.To,{}),renderCalendarInfo:function(){return(0,k.jsx)(m.nG,{})},readOnly:!0,displayFormat:"DD-MM-YYYY"})]}),(0,k.jsxs)("div",{className:"w-full md:flex-1 mt-4 md:mt-0",children:[(0,k.jsx)("div",{className:"font-bold mb-3",children:"Time"}),(0,k.jsx)(x.Z,{type:"time",className:"w-full",onChange:function(e){return z(e.target.value)}})]})]})]})}),D&&P&&T&&(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-center mb-3",children:"Write down here if you have any additional requirements"}),(0,k.jsx)("div",{children:(0,k.jsx)(x.Z,{name:"additionalRequirements",id:"additionalRequirements",fullWidth:!0,multiline:!0,maxRows:6,rows:6,color:"primary",type:"text",placeholder:"Requirements ..."})})]}),D&&P&&(0,k.jsx)("div",{className:"mt-20",children:(0,k.jsx)(p.Z,{fullWidth:!0,variant:"contained",size:"large",color:"primary",onClick:function(){!L&&F&&D&&P&&T&&G&&(b(!0),n.push("/services/".concat(r.url,"/booking?date=").concat(d()(F).format("DD-MM-yyyy"),"&packageId=").concat(T._id)))},disabled:L||!D||!P||!T||!F,children:(0,k.jsx)("span",{className:"font-sans font-semibold",children:"Next"})})})]})})}var B=t(42982),q=t(44656),F=t(62640),A=t(42283),E=t(28834),G=t(19501);function z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function W(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?z(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var H=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Y2)("WITH-AUTH");case 2:return t=e.sent,e.next=5,j.ZG.post("bookings",W({},r),t);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function $(e){var r=e.serviceInfo,t=e.selectedItems,i=e.bookingDate,a=e.additionalRequirements,o=e.setShowDetails,c=e.startTime,l=e.deliveryAddress,d=e.guestNo,m=e.bookingFor,h=e.typeOfEventName,x=e.productInfo,f=(0,N.useRouter)(),v=(0,g.useMutation)(H,{onSuccess:function(){(0,b.X)("Booking created","success"),f.push("/user/bookings")},onError:function(){(0,b.X)("Booking conflict occur","danger")}}),w=t.map((function(e){return e.price.amount})).reduce((function(e,r){return e+r}),0)*d,D=function(){var e=(0,n.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={service:r._id,pricing:{date:i.format("DD-MM-YYYY"),type:"product",price:w,startTime:c,deliveryAddress:l,product:{minGuest:x.minGuest,minPrice:x.minPrice,totalGuest:d,items:t}},bookingFor:m,typeOfEvent:h,additionalRequirements:a,type:"normal"},e.next=3,v.mutateAsync(n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)("div",{className:"container px-4 lg:px-0 mx-auto",children:[(0,k.jsx)("h6",{className:"font-bold text-xl mb-2",children:"Booking Details"}),(0,k.jsxs)("div",{className:"lg:flex",children:[(0,k.jsxs)("div",{className:"lg:flex-1 lg:mr-10",children:[(0,k.jsxs)("div",{className:"py-2 border-b border-gray-300 last:border-0",children:[(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Booking Date"}),(0,k.jsxs)("div",{className:"flex flex-wrap -mx-2 mt-2",children:[(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center py-1 px-4 bg-primary text-white mx-2 mb-2",children:[(0,k.jsx)("small",{className:"font-semibold leading-none",children:i.format("MMM")}),(0,k.jsx)("p",{className:"font-semibold",children:i.format("D")})]}),(0,k.jsx)("div",{className:"mx-2 mb-2",children:(0,k.jsx)("p",{children:i.format("Do MMMM, YYYY")})}),(0,k.jsx)("h6",{className:"mx-2 mb-2 font-bold text-primary cursor-pointer",onClick:function(){return o(!1)},children:"Change"})]})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Product Name"}),(0,k.jsxs)("div",{className:"flex",children:[(0,k.jsx)("p",{className:"mr-4",children:r.name}),(0,k.jsx)("h6",{className:"font-bold text-primary cursor-pointer",onClick:function(){return o(!1)},children:"Change"})]})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Selected Items"}),(0,k.jsx)("div",{className:"mt-2",children:t.map((function(e){return(0,k.jsxs)("div",{className:"mb-2 flex space-x-2",children:[(0,k.jsx)(u.default,{loader:(0,y.B)(j.a9),src:e.image,alt:"product",height:"100%",width:"100%",layout:"responsive",className:"h-20 w-20 object-cover border"}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{children:e.title}),(0,k.jsxs)("p",{children:[e.price.amount," BDT"]})]})]},e.itemId)}))}),(0,k.jsxs)("h6",{className:"font-medium",children:["Per Person Total: ",t.map((function(e){return e.price.amount})).reduce((function(e,r){return e+r}),0)," BDT"]}),(0,k.jsxs)("h6",{className:"font-medium",children:["Total Guest: ",d]})]}),(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Delivery Address"}),(0,k.jsx)("p",{children:l})]})]}),(0,k.jsx)("div",{className:"py-2 border-b border-gray-300 sm:border-0",children:(0,k.jsxs)("div",{className:"my-3",children:[(0,k.jsx)("h6",{className:"font-medium",children:"Additional Requirements"}),(0,k.jsx)("p",{children:a.length?a:"None"})]})})]}),(0,k.jsxs)("div",{className:"lg:w-xs my-5",children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-primary",children:"Pricing"}),(0,k.jsxs)("div",{className:"flex justify-between my-2 font-medium text-primary",children:[(0,k.jsx)("h6",{children:"Total"}),(0,k.jsxs)("p",{children:[w," BDT"]})]}),(0,k.jsx)("div",{className:"mt-8 mb-6",children:(0,k.jsx)(p.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:D,children:(0,k.jsx)("span",{className:"font-sans font-semibold",children:"Request For Booking"})})})]})]})]})}var L=t(21512),Q=t(28885),X=t(5775);function K(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function U(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?K(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var J=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Y2)("WITH-AUTH");case 2:return t=e.sent,e.next=5,j.ZG.get("services/".concat(r,"/blockdays"),t);case 5:return n=e.sent,e.abrupt("return",n.data.data);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),V=function(e){var r=e.service,t=(0,h.C)(),n=((0,N.useRouter)(),(0,a.useState)([d()()])[0],(0,a.useState)(!1)),i=n[0],s=n[1],l=(0,a.useState)(!1),f=l[0],v=l[1],w=(0,a.useState)(),D=w[0],O=w[1],S=(0,a.useState)(),P=S[0],M=S[1],Z=(0,a.useState)(0),T=Z[0],Y=Z[1],C=(0,a.useState)([]),I=C[0],_=C[1],R=new URLSearchParams(location.search).get("date"),z=(0,a.useState)([]),W=z[0],H=z[1],K=(0,g.useQuery)(["service-block-days",r._id],(function(){return J(r._id)}),{refetchOnWindowFocus:!1,enabled:!!r._id}).data,V=G.Ry().shape({guestNo:G.Rx().integer().required("Required").min(r.pricing.product.minGuest,"Minimum guest should be ".concat(r.pricing.product.minGuest)),deliveryAddress:G.Z_().required("Delivery address required"),additionalRequirements:G.Z_(),date:G.Z_().required("Required"),startTime:G.Z_()}),ee=(0,A.cI)({resolver:(0,E.X)(V),defaultValues:{guestNo:50,deliveryAddress:"",additionalRequirements:"",date:d()().format("DD-MM-YYYY"),startTime:"09:00"}}),re=ee.control,te=ee.formState.errors,ne=ee.handleSubmit,ie=ee.setValue,se=ee.watch;(0,a.useEffect)((function(){if(R&&ie("date",R),K){var e=[];K.map((function(r){var t=d()(r.date).format("DD-MM-YYYY");return e.push(t),t})),H([].concat(e))}}),[R,ie,K]);var ae=se("guestNo"),oe=ne((function(e){I.map((function(e){return e.price.amount})).reduce((function(e,r){return e+r}),0)<r.pricing.product.minPrice.amount?(0,b.X)("Minimum price of per meal is ".concat(r.pricing.product.minPrice.amount),"danger"):v(!0)}));return(0,k.jsx)(k.Fragment,{children:f&&D&&P&&se("date")?(0,k.jsx)($,{serviceInfo:{_id:r._id,name:r.name,address:r.address,type:r.type},selectedItems:I,bookingDate:d()(se("date"),"DD-MM-YYYY"),additionalRequirements:se("additionalRequirements"),startTime:se("startTime"),guestNo:se("guestNo"),deliveryAddress:se("deliveryAddress"),productInfo:{minGuest:r.pricing.product.minGuest,minPrice:r.pricing.product.minPrice},bookingFor:D,typeOfEventName:P,setShowDetails:v}):(0,k.jsxs)("div",{className:"max-w-4xl px-4 lg:px-0 mx-auto mb-32",children:[(0,k.jsxs)("div",{className:"mb-6 flex flex-col items-center",children:[(0,k.jsx)("h6",{className:"font-bold text-xl mb-3",children:"I am getting service for"}),(0,k.jsxs)("div",{className:"flex flex-wrap justify-center -mx-2",children:[(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat("personal"===D?"bg-primary text-white":""),onClick:function(){return O("personal")},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:"Personal"})},0),(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat("business"===D?"bg-primary text-white":""),onClick:function(){return O("business")},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:"Business"})},1)]})]}),D&&(0,k.jsxs)("div",{className:"mb-6 flex flex-col items-center",children:[(0,k.jsx)("h6",{className:"font-bold text-xl mb-3",children:"Type Of Event "}),(0,k.jsx)("div",{className:"flex flex-wrap justify-center -mx-2",children:"personal"===D?o.kB.personal.map((function(e,r){return(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat(P===e.value?"bg-primary text-white":""),onClick:function(){return M(e.value)},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:e.name})},r)})):o.kB.business.map((function(e,r){return(0,k.jsx)("div",{className:"transition duration-300 ease-in-out border border-customGray-450 py-2 px-4 hover:bg-primary hover:text-white m-2 cursor-pointer ".concat(P===e.value?"bg-primary text-white":""),onClick:function(){return M(e.value)},children:(0,k.jsx)("h6",{className:"font-medium text-center",children:e.name})},r)}))})]}),D&&P&&(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-center mb-3",children:"Menu"}),(0,k.jsx)("div",{className:"flex flex-wrap justify-center -mx-2 mb-6",children:(0,k.jsx)(q.Z,{value:T,onChange:function(e,r){Y(r)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tab",children:r.pricing.product.categories.map((function(e,r){return(0,k.jsx)(F.Z,{label:e.title,id:"simple-tab-".concat(r),style:{textTransform:"none",outline:"none",fontSize:18}},r)}))})})]}),P&&r.pricing.product.categories.map((function(e,r){return(0,k.jsx)(X.x,{value:T,index:r,children:(0,k.jsx)("div",{className:"flex flex-wrap",children:e.items.map((function(r,t){return(0,k.jsxs)("div",{className:"w-64 md:w-56 rounded mx-2 border mb-4 transition duration-300 ease-in-out relative",children:[(0,k.jsx)("div",{className:"h-40 w-full overflow-hidden rounded-md",children:(0,k.jsx)(u.default,{loader:(0,y.B)(j.a9),className:"inline-block w-full h-full object-cover",src:r.image,height:"100%",width:"100%",layout:"responsive",alt:"location"})}),(0,k.jsxs)("div",{className:"p-2",children:[(0,k.jsx)("h6",{className:"font-semibold text-xl pb-2",children:r.title}),(0,k.jsx)("div",{className:"flex justify-center",children:(0,k.jsx)(p.Z,{variant:"contained",color:"primary",size:"small",disabled:!!(I.length>0&&I.find((function(e){return e.itemId===r._id}))),onClick:function(){I.find((function(e){return e.itemId===r._id}))||_((function(t){return[].concat((0,B.Z)(t),[U(U({},r),{},{itemId:r._id,categoryId:e._id,categoryTitle:e.title})])}))},children:"Add Item"})})]}),(0,k.jsx)("div",{className:"bg-yellow-400 text-xs uppercase font-bold rounded-full p-1 absolute top-0 right-0 mt-1 mr-1",children:(0,k.jsxs)("span",{children:[r.price.currency," ",r.price.amount]})})]},t)}))})},r)})),(0,k.jsxs)("div",{className:"space-y-6",children:[I.length>0&&(0,k.jsxs)("div",{children:[(0,k.jsx)("h6",{className:"font-bold text-xl text-center mb-3",children:"Select Your Meal"}),(0,k.jsxs)("div",{className:"w-full border rounded max-w-lg mx-auto pt-2",children:[(0,k.jsxs)("span",{className:"font-light text-gray-500 text-center p-4",children:["*Note: Minimum price of meal must be at least BDT. ",r.pricing.product.minPrice.amount]}),(0,k.jsx)("ul",{className:"w-100% h-80 overflow-auto mt-2 px-6 border border-indigo-600 ",children:I.map((function(e,r){return(0,k.jsxs)("li",{className:"border-b-2 border-gray-800 px-4 py-3 flex justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-lg font-light",children:e.title}),(0,k.jsxs)("p",{children:[e.price.amount," BDT"]})]}),(0,k.jsx)("span",{onClick:function(){var r=I.filter((function(r){return r.itemId!==e.itemId}));_(r)},children:(0,k.jsx)(L.Z,{name:"remove",height:"24",width:"24",fill:"red"})})]},e.itemId)}))}),(0,k.jsxs)("span",{className:"font-light text-gray-500 text-center p-4",children:["Total Meal Price: ",I.map((function(e){return e.price.amount})).reduce((function(e,r){return e+r}),0)]})]})]}),(0,k.jsxs)("form",{onSubmit:oe,className:"space-y-6",children:[I.length>0&&(0,k.jsx)("div",{children:(0,k.jsxs)("div",{className:"flex flex-wrap gap-x-6",children:[(0,k.jsxs)("div",{className:"md:flex-1",children:[(0,k.jsx)("div",{className:"font-bold mb-3",children:"Number of guests"}),(0,k.jsxs)("div",{className:"w-full",children:[(0,k.jsx)(A.Qr,{control:re,name:"guestNo",render:function(e){var r=e.field;return(0,k.jsx)(x.Z,U(U({type:"number",className:"w-full",placeholder:"50"},r),{},{onChange:function(e){return ie("guestNo",Number(e.target.value))}}))}}),(null===te||void 0===te?void 0:te.guestNo)&&(0,k.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===te||void 0===te?void 0:te.guestNo.message}),(0,k.jsxs)("span",{className:"font-light text-gray-500 text-center mt-4",children:["*Note: Minimum guest must be least. ",r.pricing.product.minGuest]})]})]}),(0,k.jsxs)("div",{className:"w-40",children:[(0,k.jsx)("div",{className:"font-bold mb-6",children:"Total"}),I.map((function(e){return e.price.amount})).reduce((function(e,r){return e+r}),0)*ae," BDT"]})]})}),I.length>0&&(0,k.jsx)("div",{children:(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"font-bold mb-3 text-center",children:"Select Your Time"}),(0,k.jsxs)("div",{className:"flex flex-wrap gap-x-6",children:[(0,k.jsxs)("div",{className:"md:flex-1",children:[(0,k.jsx)("div",{className:"font-bold mb-3",children:"Date"}),(0,k.jsx)(c.SingleDatePicker,{id:"single_booking_date",date:d()(se("date"),"DD-MM-YYYY"),onDateChange:function(e){return ie("date",e?e.format("DD-MM-YYYY"):"")},focused:i,onFocusChange:function(e){var r=e.focused;s(r)},orientation:"horizontal",placeholder:"Date",showClearDate:!0,showDefaultInputIcon:!0,small:!1,hideKeyboardShortcutsPanel:!1,daySize:(0,m.I8)(t),numberOfMonths:1,isDayBlocked:function(e){return!!W.includes(e.format("DD-MM-YYYY"))||(0,o.Jk)(r.weekDays).includes(e.format("ddd"))},navPrev:(0,k.jsx)(m.QI,{}),navNext:(0,k.jsx)(m.To,{}),renderCalendarInfo:function(){return(0,k.jsx)(m.nG,{})},readOnly:!0,displayFormat:"DD-MM-YYYY"}),(null===te||void 0===te?void 0:te.date)&&(0,k.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===te||void 0===te?void 0:te.date.message})]}),(0,k.jsxs)("div",{className:"w-full md:flex-1",children:[(0,k.jsx)("div",{className:"font-bold mb-3",children:"Time"}),(0,k.jsx)(A.Qr,{control:re,name:"startTime",render:function(e){var r=e.field;return(0,k.jsx)(x.Z,U({type:"time",className:"w-full"},r))}}),(null===te||void 0===te?void 0:te.startTime)&&(0,k.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===te||void 0===te?void 0:te.startTime.message})]})]})]})}),I.length>0&&(0,k.jsxs)("div",{children:[(0,k.jsx)("h6",{className:"font-bold mb-3 text-center",children:"Where will it take place?"}),(0,k.jsxs)("div",{className:"mt-5",children:[(0,k.jsx)(Q.T,{label:"Address"}),(0,k.jsx)(A.Qr,{control:re,name:"deliveryAddress",render:function(e){var r=e.field;return(0,k.jsx)(x.Z,U({error:!!te.deliveryAddress,fullWidth:!0,type:"text"},r))}}),(null===te||void 0===te?void 0:te.deliveryAddress)&&(0,k.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===te||void 0===te?void 0:te.deliveryAddress.message})]})]}),I.length>0&&(0,k.jsxs)("div",{children:[(0,k.jsx)("h6",{className:"font-bold text-center mb-3",children:"Write down here if you have any additional requirements"}),(0,k.jsxs)("div",{children:[(0,k.jsx)(A.Qr,{control:re,name:"additionalRequirements",render:function(e){var r=e.field;return(0,k.jsx)(x.Z,U({error:!!te.additionalRequirements,fullWidth:!0,multiline:!0,rows:6,placeholder:"Requirements ...",type:"text"},r))}}),(null===te||void 0===te?void 0:te.additionalRequirements)&&(0,k.jsx)("p",{className:"text-red-500 text-xs italic font-medium mt-1",children:null===te||void 0===te?void 0:te.additionalRequirements.message})]})]}),(0,k.jsx)("div",{children:D&&P&&(0,k.jsx)("div",{className:"mt-20",children:(0,k.jsx)(p.Z,{fullWidth:!0,size:"large",variant:"contained",color:"primary",type:"submit",children:(0,k.jsx)("span",{className:"font-sans font-semibold",children:"Next"})})})})]})]})]})})},ee=t(25988),re=t(86869),te=function(){var e=(0,n.Z)(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.ZG.get("services/url/".concat(r));case 2:return t=e.sent,e.abrupt("return",t.data.service);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),ne=function(){var e=(0,N.useRouter)(),r=e.query.url,t=(0,re.C)((function(e){return{isLogin:!!e.userReducer.user}})).isLogin,n=(0,g.useQuery)(["service","".concat(r)],(function(){return te(r)}),{refetchOnWindowFocus:!1,enabled:!!r}),i=n.data,s=n.status,a=n.isLoading;return"error"===s?(0,k.jsx)("div",{children:"Something went wrong!"}):(t||e.replace("/signin"),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(ee.Z,{open:a}),(0,k.jsx)(h.q,{queries:m.Az,children:(0,k.jsxs)("div",{className:"my-6",children:[i&&"venue"===i.type&&(0,k.jsx)(Z,{service:i}),i&&["eventManagement","photographer","music","lighting","honeymoon"].includes(i.type)&&(0,k.jsx)(R,{service:i}),i&&["flowers","caterings"].includes(i.type)&&(0,k.jsx)(V,{service:i})]})})]}))}},88615:function(e,r,t){"use strict";t.d(r,{TJ:function(){return c},hg:function(){return l},dF:function(){return d},qr:function(){return u},HN:function(){return m},eG:function(){return h},ak:function(){return x},M8:function(){return f},zI:function(){return v},Y2:function(){return j},DK:function(){return g},aS:function(){return y},gQ:function(){return N},kB:function(){return w},T9:function(){return k},KU:function(){return D},OH:function(){return O},PN:function(){return S},Jk:function(){return P},Zt:function(){return M}});var n=t(15861),i=t(87757),s=t.n(i),a=t(46489),o=t.n(a),c=/(?=.*[a-z])/,l=/(?=.*[A-Z])/,d=/(?=.*[0-9])/,u=/(?=.*[!@#$%^&*,.;:'"_=+?`~<>()|/-])/,m=/^([a-z\d._-]+)@([a-z\d_-]+)\.([a-z]{2,8})(\.[a-z]{2,8})?$/i,h=/^(\+88)?01[1-9][0-9]{8}$/,x=/^([0-2][0-9]|(3)[0-1])(-)(((0)[0-9])|((1)[0-2]))(-)\d{4}$/,f=function(e){window.localStorage.setItem("access-token",e)},p=function(){var e=null;return window.localStorage.getItem("access-token")?e=window.localStorage.getItem("access-token"):window.localStorage.removeItem("access-token"),e},v=function(e){window.localStorage.setItem("refresh-token",e)},b=function(e){try{return!(o()(e).exp>Date.now()/1e3)}catch(r){return!0}},j=function(){var e=(0,n.Z)(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("WITH-AUTH"!==r){e.next=9;break}if(null===(t=p())||b(t)){e.next=6;break}return e.abrupt("return",{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)}});case 6:return e.abrupt("return",{headers:{"Content-type":"application/json"}});case 7:e.next=10;break;case 9:return e.abrupt("return",{headers:{"Content-type":"application/json"}});case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),g=function(e){var r=e,t=+r.substr(0,2),n=t%12||12,i=t<12?" AM":" PM";return r=(n=n<10?"0"+n:n)+r.substr(2,3)+i},y=function(e,r){return e.length<=r?e:"".concat(e.substring(0,r).trim(),"...")},N={appearance:"Appearance",attraction:"Attraction",classOrTrainingOrWorkshop:"Class / Training / Workshop",conference:"Conference",festivalOrFair:"Festival / Fair",concertOrPerformance:"Concert / Performance",meetingOrNetworkingEvent:"Meeting / Networking Event",partyOrSocialGathering:"Party / Social Gathering",tournament:"Tournament",seminarOrTail:"Seminar / Talk",rally:"Rally",gameOrCompetition:"Game / Competition"},w={personal:[{value:"weddingAndEngagement",name:"Wedding And Engagement"},{value:"travelShoot",name:"Travel Shoot"},{value:"kidsParty",name:"Kids Party"},{value:"partyGathering",name:"Party Gathering"},{value:"pet",name:"Pet"},{value:"graduation",name:"Graduation"},{value:"couplePhotoshoot",name:"Couple Photoshoot"},{value:"otherLifeEvent",name:"Other Life Event"},{value:"portraits",name:"Portraits"},{value:"babyPhotoshoot",name:"Baby Photoshoot"},{value:"others",name:"Others"}],business:[{value:"workshop",name:"Workshop"},{value:"seminar",name:"Seminar"},{value:"concert",name:"Concert"},{value:"reunion",name:"Reunion"},{value:"party",name:"Party"},{value:"conferences",name:"Conferences"},{value:"awardsAndCompetitions",name:"Awards and competitions"},{value:"festivals",name:"Festivals"},{value:"tradeShowsAndExpos",name:"Trade shows and expos"},{value:"others",name:"Others"}]},k=function(e){var r="";for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];(n||"number"===typeof n)&&(0===r.length?r+="".concat(t,"=").concat(n):r+="&".concat(t,"=").concat(n))}return r},D=function(e){return{__html:e}},O=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.toFixed(r).replace(/\d(?=(\d{3})+\.)/g,"$&,")},S=function(e,r){var t=["pending","reserved","paid","completed"];return-1!==t.indexOf(e)&&t.indexOf(r)<=t.indexOf(e)},P=function(e){return Object.keys(e).filter((function(r){return!0===e[r]})).map((function(e){return(e.charAt(0).toUpperCase()+e.substr(1)).slice(0,3)}))},M={venue:"Convention Hall","event-management":"Event Management",photographer:"Photographer",caterings:"Caterings",flowers:"Flowers",music:"Music","invitation-card":"Invitation Card",lightening:"Lightening",videographer:"Videographer",honeymoon:"Honeymoon"}},53412:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/services/[url]/booking",function(){return t(46980)}])},24654:function(){}},function(e){e.O(0,[885,468,752,475,314,592,95,712,774,888,179],(function(){return r=53412,e(e.s=r);var r}));var r=e.O();_N_E=r}]);